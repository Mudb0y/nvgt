set(FILE_SUFFIX "")
if(VCPKG_TARGET_IS_OSX)
	set(FILE_SUFFIX "-osx")
	set(FILE_HASH "cd926e0970cf6b2f3245b43959364a7a5779f24ad9ecce5f1ef072e82b3fba64ea18f16cd1dc55ef6502ced841358d2351cd080093da352976b6f319c220924c")
elseif(VCPKG_TARGET_IS_LINUX)
	set(FILE_SUFFIX "-linux")
	set(FILE_HASH "3d18d6fa85f56403fe4ed75b9f81d997952f9aa04eec47edd47e912ee03a57f1dc206362db94594692edaaf53b760f9a2614914c4af6b4e48e0e52d80ad2e3e8")
elseif(VCPKG_TARGET_IS_ANDROID)
	set(FILE_SUFFIX "-android")
	set(FILE_HASH "1776d46f5a63d73d9e07bf4dfb2f38f1131135931616fe79854633b2d674d2b973d946e6a4fbd2d6e26fa32534bab87fdd7014edc213beec479d1db86f4e2b1b")
elseif(VCPKG_TARGET_IS_IOS)
	set(FILE_SUFFIX "-ios")
	set(FILE_HASH "d5d11eff8561fdc0cdd2d6194b61ba5e054b83954c974dee55747d42c1d9cd77d2d28335a14a326afa5f3c3ae7e20df08d478dffa2c034b9f8fdfb6469ede1e2")
else()
	set(FILE_HASH "5af008f1091286373cbe54c42052248ef7c4b172d1c4227277c1cbfbeee06140afcc022ee0abf5e6994b271794745b3f179c0d729c919b9d9eeed6c99809ae60")
endif()
vcpkg_download_distfile(ARCHIVE
    URLS "https://www.un4seen.com/files/bass${VERSION}${FILE_SUFFIX}.zip"
    FILENAME "bass${VERSION}${FILE_SUFFIX}.zip"
    SHA512 ${FILE_HASH}
)
vcpkg_extract_source_archive(
    SOURCE_PATH
    ARCHIVE "${ARCHIVE}"
    NO_REMOVE_ONE_LEVEL
)
file(INSTALL "${SOURCE_PATH}/c/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
if(VCPKG_TARGET_IS_WINDOWS)
	file(INSTALL "${SOURCE_PATH}/c/x64/bass.lib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	file(INSTALL "${SOURCE_PATH}/x64/bass.dll" DESTINATION "${CURRENT_PACKAGES_DIR}/bin")
elseif(VCPKG_TARGET_IS_OSX)
	file(INSTALL "${SOURCE_PATH}/libbass.dylib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_LINUX)
	if(VCPKG_TARGET_ARCHITECTURE STREQUAL "arm64")
		file(INSTALL "${SOURCE_PATH}/libs/aarch64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	else()
		file(INSTALL "${SOURCE_PATH}/libs/x86_64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	endif()
elseif(VCPKG_TARGET_IS_ANDROID)
	file(INSTALL "${SOURCE_PATH}/libs/arm64-v8a/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_IOS)
	file(INSTALL "${SOURCE_PATH}/bass.xcframework" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
endif()
